運用手順（確定）
0. 基本原則（固定）

ログ確認はユーザーが行わない
ユーザーはログを「渡すだけ」。解析・判断は私が行う。

修正は 1変更＝1目的、複数目的を同時に入れない。

変更方式は フル差し替え禁止。原則 **差分パッチ（局所置換）**のみ。

1. 作業サイクル（標準）
Step 1：変更要求の確定

変更要求は必ず 1行で書ける形にする
例：
「001MODE=False でも Framework001 ルートへ入る」

Step 2：差分パッチの提示（テンプレ方式）

私は必ず 差分パッチ説明テンプレで提示する
（目的／変更種別／検索キー／形確認／触る箇所／完成形／次の行動）

Step 3：ユーザーはコピペだけ

ユーザーがやるのは以下のみ：

検索

置換 or 挿入

ビルド

テスト実行

出力一式を渡す

Step 4：結果解析は私が実施

ユーザーは ログの中身を見ない

私が一致／不一致を判定し、次パッチ（または停止）を提示する

2. パッチ適用ルール（事故防止のため固定）
ルールA：検索キーは短く

検索キーは 1〜2単語（例：TryEntryFramework001）

Print("... のような長文キーは禁止

ルールB：触る場所は最小

if条件1行、式1つ、2行までを基本単位とする

{ } を跨ぐ編集は禁止（括弧事故の温床）

ルールC：パッチは段階化

いきなり「全部直す」をしない

優先順位：

コンパイル（構文）復旧

入口一致（時刻＋方向）

付随ログ整備

最適化は別スコープ

3. テスト運用（固定）
テストの種類（2つだけ）

TEST-1（基準）：Enable001Mode=True

TEST-2（再現）：Enable001Mode=False ＋ 001再現プリセット

判定基準（固定）

見るのは エントリー時刻＋方向

NetProfit / PF / 勝率は 入口一致が通るまで見ない

提出物（ユーザーが渡すもの）

backtestの結果一式（zip）
※ユーザーの確認不要、私が解析する

4. ロールバック規約（固定）
ロールバックの条件

エラーが大量（100件以上）になったら、即ロールバック。

その時点のコードを“正本”に戻し、次パッチを さらに小さくする。

正本の定義

最後に ビルド成功 + TEST-1/2が成立した版のみを正本とする。

5. コミュニケーション規約（固定）

ユーザーの返信は基本「一言」で十分とする：

OK 次

ビルド成功

ビルドエラー（スクショ）

TEST-2 結果

私からユーザーに「ログを見て確認して」は言わない（禁止）。

6. 付録：差分パッチ説明テンプレ（正式版）

※前回提示したテンプレを、この運用手順の正式付録として採用する。

（目的／変更種別／検索キー／形確認／触る箇所／完成形／挙動1点／次の行動）