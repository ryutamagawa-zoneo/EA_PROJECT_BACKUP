棚卸し出力（固定フォーマット）

A. ファイル一覧（ZIPの場合は全ファイル）

ファイル名

種別（.cs/.txt/.json/.set等）

役割推定（BASE/HL/ルール/補助）

依存関係（参照してそうな他ファイル名）

B. 079（BASE）棚卸し（統合に必要な粒度）
B-1. メタ
・Robot/Indicator名、Namespace
・TimeFrame / Symbol 前提（あれば）
・CODE NAME（冒頭コメント等）

B-2. パラメータ一覧（必須）
・Parameter属性の全項目

日本語表示名

型（bool/int/double/string/enum）

デフォルト

意味（コードから読み取れる範囲で1行）
※統合で追加する予定の新パラメータ枠も「追加予定」として列挙

B-3. エントリー経路（最重要）
・OnStart / OnBar / OnTick のどれで評価しているか
・EMAモードの入口関数名（例：TryEmaEntry など）
・COREモードの入口関数名
・最終発注地点（ExecuteMarketOrder等）の呼び出し関数名とその直前の条件分岐
・新規エントリー“禁止ゲート”が既にあるなら、その関数名と条件（例：ニュース、時間帯等）

B-4. ポジション管理・決済（統合には把握必要）
・SL/TP設定の方法（どこで決めるか）
・トレーリング/BE/時間SL/緊急クローズの有無と入口関数名
・クローズ禁止や市場クローズ耐性の仕組み（あれば）

B-5. ログ/出力
・Print / CSV / JSONL など
・「エントリー理由タグ」を出している箇所（統合時にHLブロック理由を入れるため）

B-6. 統合差分候補点（棚卸し段階で“候補だけ”出す）
・EMAルート：発注直前の挿入候補（関数名）
・COREルート：発注直前の挿入候補（関数名）
・共通化できるなら共通ゲート関数の呼び出し候補

C. 019（HLトレンド）棚卸し（統合に必要な粒度）
C-1. メタ
・Robot/Indicator名、TimeFrame依存
・対象TimeFrame（M5/H1をどう取得しているか）

C-2. パラメータ一覧（必須）
・Parameter属性の全項目（型/デフォルト/意味1行）

C-3. トレンド状態機械（最重要）
・トレンド状態のenum（Up/Down/Less 等）
・M5用状態変数
・H1用状態変数
・状態更新の入口関数名（どこで呼ばれるか：OnBar/Timer等）
・状態判定の中核関数名（例：EvaluateOneTf / DetermineTrend…）
・Pivot算出ロジックの入口と更新頻度

C-4. 描画（統合で“残す/捨てる”判断用）
・描画オブジェクト名のprefix
・削除/クリーンの仕組み
・描画がトレンド判定に影響するか（通常はしない）

C-5. 079へ提供できる“最小インターフェース”
・「今のM5状態」「今のH1状態」を返す getter（ある/ない）
・なければ統合後に作るべき関数名案

D. 売買許可ルール（sell_buy / 売買許可.txt）棚卸し
D-1. ルール入力
・参照する状態（M5トレンド、H1トレンド、その他条件）
D-2. ルール出力
・許可：Long/Short の組み合わせ
・禁止理由タグの定義（あれば）
D-3. 優先順位
・矛盾時（例：M5 Up / H1 Down）をどうするか
D-4. 実装形
・表（マトリクス）で実装できるか
・switch/ifツリーになるか
・TrendLessの扱い（ここは“後ほど添付”のルールで決まる）

E. 統合案（棚卸し後に必ず出す成果物）
E-1. 統合方式
・079に019ロジックを内包（INT層）
・HL計算ON/OFFパラメータ追加
・OFFならHL計算を一切呼ばない（079と同一挙動）

E-2. 追加/変更点（ADD/MODIFY/DELETEの候補）
・ADD: HLモジュール（クラス/関数/enum）
・ADD: HLゲート関数（allowLong/allowShort）
・MODIFY: EMA発注直前にゲート
・MODIFY: CORE発注直前にゲート
・DELETE: 原則なし（必要なら明記）

E-3. “挿入位置”の確定
・関数名と、条件分岐のどの直前か（発注の直前）まで特定